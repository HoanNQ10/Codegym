<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản lý sinh viên</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f9;
        }

        h2 {
            color: #4CAF50;
        }

        form {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
        }

        input[type="text"] {
            padding: 10px;
            font-size: 14px;
            width: 100%;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            margin-top: 10px;
        }

        button#add-student-btn {
            background-color: #4CAF50;
            color: white;
        }

        button.edit-btn {
            background-color: #f0ad4e;
            color: white;
        }

        button.delete-btn {
            background-color: #d9534f;
            color: white;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            border: 1px solid #ddd;
            text-align: left;
            padding: 8px;
        }

        th {
            background-color: #4CAF50;
            color: white;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
<h2>Thêm mới sinh viên</h2>
<form id="student-form">
    <label>Họ và tên<input type="text" id="name" required></label>
    <label>Tuổi<input type="text" id="age" required></label>
    <label>Số điện thoại<input type="text" id="phone" required></label>
    <label>Địa chỉ<input type="text" id="address" required></label>
    <label>Điểm trung bình<input type="text" id="gpa" required></label>
    <button type="submit" id="add-student-btn">Thêm mới</button>
</form>

<h2>Danh sách sinh viên</h2>
<table>
    <thead>
    <tr>
        <th>Họ và tên</th>
        <th>Tuổi</th>
        <th>Điện thoại</th>
        <th>Địa chỉ</th>
        <th>Điểm trung bình</th>
        <th>Hành động</th>
    </tr>
    </thead>
    <tbody id="resultDiv">
    <!-- Danh sách sinh viên sẽ được hiển thị ở đây -->
    </tbody>
</table>

<script>
    class Student {
        constructor(name, age, phone, address, gpa) {
            this.name = name;
            this.age = age;
            this.phone = phone;
            this.address = address;
            this.gpa = gpa;
        }
    }

    class StudentManager {
        constructor() {
            this.students = [];
        }

        addStudent(student) {
            this.students.push(student);
            this.render();
        }

        updateStudent(index, updatedStudent) {
            this.students[index] = updatedStudent;
            this.render();
        }

        deleteStudent(index) {
            this.students.splice(index, 1);
            this.render();
        }

        render() {
            const studentList = document.getElementById('resultDiv');
            studentList.innerHTML = ''; // Xóa nội dung cũ

            this.students.forEach((student, i) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                        <td>${student.name}</td>
                        <td>${student.age}</td>
                        <td>${student.phone}</td>
                        <td>${student.address}</td>
                        <td>${student.gpa}</td>
                        <td>
                            <button class="edit-btn" onclick="editStudent(${i})">Sửa</button>
                            <button class="delete-btn" onclick="deleteStudent(${i})">Xoá</button>
                        </td>
                    `;
                studentList.appendChild(row);
            });
        }
    }

    const manager = new StudentManager();
    let editIndex = null;

    document.getElementById('student-form').addEventListener('submit', function (e) {
        e.preventDefault();

        const name = document.getElementById('name').value;
        const age = document.getElementById('age').value;
        const phone = document.getElementById('phone').value;
        const address = document.getElementById('address').value;
        const gpa = document.getElementById('gpa').value;

        const newStudent = new Student(name, age, phone, address, gpa);

        if (editIndex === null) {
            manager.addStudent(newStudent);
        } else {
            manager.updateStudent(editIndex, newStudent);
            editIndex = null;
            document.getElementById('add-student-btn').innerText = 'Thêm mới';
        }

        this.reset();
    });

    function deleteStudent(index) {
        manager.deleteStudent(index);
    }

    function editStudent(index) {
        const student = manager.students[index];
        document.getElementById('name').value = student.name;
        document.getElementById('age').value = student.age;
        document.getElementById('phone').value = student.phone;
        document.getElementById('address').value = student.address;
        document.getElementById('gpa').value = student.gpa;

        editIndex = index;
        document.getElementById('add-student-btn').innerText = 'Cập nhật';
    }
</script>
</body>
</html>
